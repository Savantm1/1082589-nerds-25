<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <title>HTML Academy: Нёрдс</title>
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <header class="main-header">
      <nav class="main-navigation container">
        <a href="index.html" class="logo">
          <img src="img/nerds-logo.svg"  width="160" height="65" alt="Логотип компании">
        </a>
        <ul class="main-menu design-list-none">
          <li>
            <a href="#">Студия</a>
          </li>
          <li>
            <a href="#">Клиенты</a>
          </li>
          <li class="main-menu-current">
            <a href="catalog.html">Магазин</a>
          </li>
          <li>
            <a href="#">Контакты</a>
          </li>
        </ul>
        <ul class="user-navigation design-list-none">
          <li class="basket">
            <a href="#">Корзина</a>
          </li>
        </ul>
      </nav>
    </header>
    <main>
      <h1 class="title">Магазин готовых шаблонов</h1>
      <div class="container main-content">
        <aside class="filters">
          <h2 class="visually-hidden">Фильтр товаров</h2>
          <form class="filter" action="#" method="get">
            <fieldset class="filter-item">
              <legend>Стоимость:</legend>
              <div class="range-filter">
                <div class="range-controls">
                  <div class="scale">
                    <div class="bar" style="margin-left: 20%; width: 30%"></div>
                  </div>
                  <div class="toggle toggle-min"></div>
                  <div class="toggle toggle-max"></div>
                </div>
                <div class="price-controls">
                  <label class="min-price">от <input name="min-price" type="text" value="0"></label>
                  <label class="max-price">до <input name="max-price" type="text" value="15000"></label>
                </div>
              </div>
            </fieldset>
            <fieldset class="filter-block">
              <legend class="filter-title">Сетка:</legend>
                <input class="visually-hidden filter-input-radio"  id="adaptive" type="radio" name="grid" value="adaptive" checked>
                <label for="adaptive">Адаптивная</label>
                <input class="visually-hidden filter-input-radio" id="fixed" type="radio" name="grid" value="fixed">
                <label for="fixed">Фиксированная</label>
                <input class="visually-hidden filter-input-radio" id="rubber" type="radio" name="grid" value="rubber">
                <label for="rubber">Резиновая</label>
            </fieldset>
            <fieldset class="filter-block">
              <legend class="filter-title">Особенности:</legend>
                <input class="visually-hidden filter-input-checkbox" id="slider" type="checkbox" name="slider" value="slider" checked>
                <label for="slider">Слайдер</label>
                <input class="visually-hidden filter-input-checkbox" id="block-of-features" type="checkbox" name="block-of-feautures" value="block-of-feautures">
                <label for="block-of-features">Блок преимуществ</label>
                <input class="visually-hidden filter-input-checkbox" id="news" type="checkbox" name="news" value="news" checked>
                <label for="news">Новости</label>
                <input class="visually-hidden filter-input-checkbox" id="gallery" type="checkbox" name="gallery" value="gallery">
                <label for="gallery">Галерея</label>
                <input class="visually-hidden filter-input-checkbox" id="basket" type="checkbox" name="basket" value="basket">
                <label for="basket">Корзина</label>
            </fieldset>
            <button class="btn-show" type="submit">Показать</button>
          </form>
        </aside>
        <section class="catalog">
          <ul class="sort-list">
            <li>
              <a href="#">Сортитовать:</a>
            </li>
            <li class="active">
              <a href="#">По цене</a>
            </li>
            <li>
              <a href="#">По типу</a>
            </li>
            <li>
              <a href="#">По названию</a>
            </li>
            <li class="arrows"><a href="#"></a></li>
          </ul>
          <h2 class="visually-hidden">Список готовых шаблонов</h2>
          <ul class="content design-list-none">
            <li class="content-item">
              <img src="img/img-sedona.png" width="360" height="576" alt="Sedona">
              <div class="window-hidden">
                <a class="block-title" href="#">Sedona</a>
                <p>Информативный сайт для туристов</p>
                <a class="price" href="#">9900 руб.</a>
              </div>
            </li>
            <li class="content-item">
              <img src="img/img-pink.png" width="360" height="576" alt="Pink">
              <div class="window-hidden">
                <a class="block-title" href="#">Pink app</a>
                <p>Продуктовый лендинг приложения для iOS и Androind</p>
                <a class="price" href="#">9900 руб.</a>
              </div>
            </li>
            <li class="content-item">
              <img src="img/img-barbershop.png" width="360" height="576" alt="Borodinski">
              <div class="window-hidden">
                <a class="block-title" href="#">Barbershop</a>
                <p>Сайт салона красоты.Для мужчин, да.</p>
                <a class="price" href="#">9900 руб.</a>
              </div>
            </li>
            <li class="content-item">
              <img src="img/img-mishka.png" width="360" height="576" alt="Mishka">
              <div class="window-hidden">
                <a class="block-title" href="#">Mishka</a>
                <p>Интернет-магазин вязаных игрушек</p>
                <a class="price" href="#">9900 РУБ.</a>
              </div>
            </li>
            <li class="content-item">
              <img src="img/img-aplus.png" width="360" height="576" alt="A plus">
              <div class="window-hidden">
                <a class="block-title" href="#">A plus</a>
                <p>Лендинг курсов повышения квалификации</p>
                <a class="price" href="#">9900 руб.</a>
              </div>
            </li>
            <li class="content-item">
              <img src="img/img-kvast.jpg" width="360" height="576" alt="Kvast">
              <div class="window-hidden">
                <a class="block-title" href="#">КВАСТ</a>
                <p>Промо-сайт производителя крафтового кваса</p>
                <a class="price" href="#">9900 руб.</a>
              </div>
            </li>
          </ul>
          <ul class="list-numbers">
            <li>
              <a class="btn-number active-list" href="#">1</a>
            </li>
            <li>
              <a class="btn-number" href="#">2</a>
            </li>
            <li>
              <a class="btn-number" href="#">3</a>
            </li>
            <li>
              <a class="btn-number" href="#">Следующая</a>
            </li>
          </ul>
        </section>
      </div>
    </main>
    <section class="map">
      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1055.6039633513856!2d30.322158892697452!3d59.93865944273993!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4696310fca145cc1%3A0x42b32648d8238007!2z0JHQvtC70YzRiNCw0Y8g0JrQvtC90Y7RiNC10L3QvdCw0Y8g0YPQuy4sIDE5LzgsINCh0LDQvdC60YIt0J_QtdGC0LXRgNCx0YPRgNCzLCAxOTExODY!5e0!3m2!1sru!2sru!4v1560382316827!5m2!1sru!2sru" width="2560" height="416" style="border:0" allowfullscreen>
      </iframe>
      <div class="contacts">
        <b>Nёrds design studio</b>
        <p> 1991186, Санкт-Петербург,ул. Б. Конюшенная, д. 19/8</p>
        <p>тел. +7 (812) 275-75-75</p>
        <a class="btn modal-link" href="#">Напишите нам</a>
      </div>
    </section>
    <footer class="main-footer container">
      <div class="footer-bottom">
        <ul class="social design-list-none">
          <li>
            <a class="social-button vkontakte" href="#" >
              <span class="visually-hidden">Вконтакте</span>
            </a>
          </li>
          <li>
            <a class="social-button facebook" href="#" >
              <span class="visually-hidden">Фейсбук</span>
            </a>
          </li>
          <li>
            <a class="social-button instagram" href="#" >
              <span class="visually-hidden">Инстаграмм</span>
            </a>
          </li>
        </ul>
        <div class="offer">
          <b>Давайте дружить, это выгодно!</b>
          <p>Cкидка 10% для друзей из социальных сетей.</p>
        </div>
      </div>
    </footer>
    <div class="write-us">
      <h2>Напишите нам</h2>
      <button type="button" class="btn-close" name="close" >
        <span class="visually-hidden">Закрыть окно</span>
      </button>
      <form action="#" method="post">
        <label>
          Ваше имя:
          <input type="text" name="person-name" placeholder="Имя Фамилия">
        </label>
        <label>
          Ваш e-mail:
          <input type="email" name="mail-adress" placeholder="email@example.com">
        </label>
        <label>
          Текст письма:
          <textarea rows="5" name="mail-text" placeholder="В свободной форме">
          </textarea>
        </label>
        <button class="btn" type="submit" name="submit">Отправить</button>
      </form>
    </div>
    <script type="text/javascript">

      var link = document.querySelector(".modal-link");
      var modal = document.querySelector(".write-us");
      var close = document.querySelector(".btn-close");
      var login = document.querySelector("[name=person-name]");
      var form = document.querySelector("form");
      var mail = document.querySelector("[name=mail-adress]");
      var isStorageSupport = true;
      var storage = "";

        try {
          storage = localStorage.getItem("login");
        } catch (err) {
          isStorageSupport = false;
        };

        try {
          storage = localStorage.getItem("mail");
        } catch (err) {
          isStorageSupport = false;
        };

      link.addEventListener("click",function(evt){
        evt.preventDefault();
        modal.classList.add("modal-show");

        if (storage) {
        login.value = storage;
        mail.focus();
        } else {
        login.focus();
        };
      });

      close.addEventListener("click", function(evt){
        evt.preventDefault();
        modal.classList.remove("modal-show");
        modal.classList.remove("modal-error");
      });

      form.addEventListener("submit", function (evt) {
        if (!login.value || !mail.value) {
          evt.preventDefault();
          modal.classList.remove("modal-error");
          modal.offsetWidth = modal.offsetWidth;
          modal.classList.add("modal-error");
          console.log("Нужно ввести логин и пароль");
        } else {
            if(isStorageSupport){
              localStorage.setItem("login", login.value);
              localStorage.setItem("mail", mail.value);
            };
          };
      });

      window.addEventListener("keydown", function (evt) {
        if (evt.keyCode === 27) {
          evt.preventDefault();
          if (modal.classList.contains("modal-show")) {
            modal.classList.remove("modal-show");
            modal.classList.remove("modal-error");
          }
        }
  });
    </script>
  </body>
</html>
